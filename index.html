<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KH√ÅM PH√Å LU·∫¨T KINH DOANH - GD KT&PL 12</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: linear-gradient(135deg, #FF9a9e 0%, #Fad0c4 50%, #A18cd1 100%);
            min-height: 100vh;
            background-attachment: fixed;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            border-radius: 2.5rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }
        .choice-btn {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid #f1f5f9;
            background: white;
        }
        .choice-btn:hover:not(:disabled) {
            transform: translateY(-5px) scale(1.02);
            border-color: #8b5cf6;
            box-shadow: 0 15px 20px -5px rgba(139, 92, 246, 0.2);
        }
        .choice-btn.wrong-shake {
            animation: shake 0.5s ease-in-out;
            background-color: #fee2e2;
            border-color: #ef4444;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        .analysis-box {
            border-left: 8px solid #6366f1;
            background: #f8fafc;
            border-radius: 1rem;
        }
        .theory-card {
            background: linear-gradient(to bottom right, #fdf2f8, #eef2ff);
            border: 1px dashed #c7d2fe;
        }
        .advisor-bubble {
            background: #eef2ff;
            border: 1px solid #c7d2fe;
            border-radius: 1.5rem;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .gradient-text {
            background: linear-gradient(to right, #6366f1, #d946ef, #f43f5e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .progress-fill {
            transition: width 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            background: linear-gradient(90deg, #6366f1, #ec4899);
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-10">
            <div class="inline-block px-5 py-1.5 bg-white/60 rounded-full text-indigo-800 text-xs font-black tracking-widest uppercase mb-4 shadow-sm border border-white">
                B√†i 6: Quy·ªÅn v√† nghƒ©a v·ª• c·ªßa c√¥ng d√¢n trong kinh doanh
            </div>
            <h1 class="text-4xl md:text-5xl font-black text-slate-900 mb-3 tracking-tight">
                <span class="gradient-text uppercase">Kh√°m Ph√° Lu·∫≠t Kinh Doanh</span>
            </h1>
        </header>

        <div id="game-container" class="glass-card p-6 md:p-10 relative min-h-[500px] flex flex-col justify-center">
            
            <!-- M√†n h√¨nh kh·ªüi ƒë·∫ßu -->
            <div id="start-screen" class="space-y-8">
                <div class="text-center">
                    <div class="w-20 h-20 bg-indigo-100 rounded-3xl flex items-center justify-center text-4xl mx-auto mb-6 shadow-inner">üîä</div>
                    <h2 class="text-3xl font-black text-slate-800 mb-4 uppercase">S·∫µn s√†ng h·ªçc t·∫≠p</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white/50 p-4 rounded-2xl border border-white flex items-start gap-4">
                        <span class="text-2xl">‚ö°</span>
                        <div>
                            <h4 class="font-bold text-slate-800">√Çm thanh sinh ƒë·ªông</h4>
                            <p class="text-sm text-slate-600">Ph·∫£n h·ªìi ngay l·∫≠p t·ª©c qua √¢m thanh khi tr·∫£ l·ªùi.</p>
                        </div>
                    </div>
                    <div class="bg-white/50 p-4 rounded-2xl border border-white flex items-start gap-4">
                        <span class="text-2xl">üìù</span>
                        <div>
                            <h4 class="font-bold text-slate-800">Ghi nh·ªõ l√Ω thuy·∫øt</h4>
                            <p class="text-sm text-slate-600">M·ªói c√¢u tr·∫£ l·ªùi xong s·∫Ω c√≥ ph·∫ßn t√≥m t·∫Øt SGK.</p>
                        </div>
                    </div>
                </div>
                <div class="flex justify-center pt-4">
                    <button onclick="startGame()" class="bg-slate-900 text-white px-16 py-6 rounded-3xl font-black hover:bg-indigo-600 transition-all shadow-2xl uppercase tracking-widest text-lg transform hover:scale-105">
                        B·∫Øt ƒë·∫ßu kh√°m ph√°
                    </button>
                </div>
            </div>

            <!-- M√†n h√¨nh ch∆°i game -->
            <div id="quiz-screen" class="hidden">
                <div class="mb-8">
                    <div class="flex justify-between items-end mb-4">
                        <span id="step-label" class="text-indigo-600 font-extrabold text-sm uppercase">C√¢u h·ªèi 01/10</span>
                        <div class="text-right">
                            <div class="text-xs text-slate-400 font-black uppercase mb-1">ƒêi·ªÉm ki·∫øn th·ª©c</div>
                            <span id="score-display" class="text-3xl font-black text-pink-600">0</span>
                        </div>
                    </div>
                    <div class="w-full bg-slate-200/50 rounded-full h-3 shadow-inner">
                        <div id="progress" class="progress-fill h-full rounded-full" style="width: 10%"></div>
                    </div>
                </div>

                <div id="quiz-content">
                    <div class="flex items-start gap-4 mb-6">
                        <div id="q-icon" class="w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center text-2xl flex-shrink-0">üí°</div>
                        <p id="question-text" class="text-xl text-slate-800 font-bold leading-snug"></p>
                    </div>

                    <div id="advisor-section" class="mb-6">
                        <button onclick="toggleAdvisor()" class="text-indigo-600 font-bold text-sm flex items-center gap-2 underline">
                            üë®‚Äç‚öñÔ∏è Xem g·ª£i √Ω c·ªßa c·ªë v·∫•n
                        </button>
                        <div id="advisor-bubble" class="hidden advisor-bubble mt-3 p-4 italic text-sm text-indigo-800"></div>
                    </div>

                    <div id="choices-container" class="grid grid-cols-1 gap-3"></div>
                </div>

                <!-- B·∫£ng ph√¢n t√≠ch & L√Ω thuy·∫øt -->
                <div id="analysis-container" class="hidden mt-8 space-y-6">
                    <div class="analysis-box p-6 shadow-sm border border-slate-200">
                        <h4 class="font-black text-slate-900 mb-3 flex items-center gap-2">
                            <span id="result-badge" class="px-2 py-1 rounded text-xs text-white"></span>
                            Gi·∫£i th√≠ch chi ti·∫øt
                        </h4>
                        <div id="correct-analysis" class="text-slate-800 text-base font-medium mb-3"></div>
                        <div id="wrong-analysis" class="text-slate-500 text-sm italic border-t pt-3 border-slate-100"></div>
                    </div>

                    <div class="theory-card p-6 rounded-2xl border-l-8 border-pink-400">
                        <h4 class="text-pink-600 font-black uppercase text-xs tracking-widest mb-3 flex items-center gap-2">
                            üìå Ki·∫øn th·ª©c c·∫ßn ghi nh·ªõ (B√†i 6 SGK)
                        </h4>
                        <div id="theory-text" class="text-slate-700 text-sm leading-relaxed space-y-2"></div>
                    </div>

                    <div class="flex justify-center">
                        <button onclick="nextStep()" class="bg-slate-900 text-white px-10 py-4 rounded-2xl font-black hover:bg-indigo-600 transition-all flex items-center gap-2 uppercase tracking-widest text-sm shadow-lg">
                            Ti·∫øp t·ª•c h·ªçc <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ƒê·ªãnh nghƒ©a √¢m thanh
        const sounds = {
            correct: new Audio('https://assets.mixkit.co/active_storage/sfx/2013/2013-preview.mp3'),
            wrong: new Audio('https://assets.mixkit.co/active_storage/sfx/2018/2018-preview.mp3'),
            finish: new Audio('https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3'),
            click: new Audio('https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3')
        };

        function playSound(type) {
            if (sounds[type]) {
                sounds[type].currentTime = 0;
                sounds[type].play().catch(e => console.log("Audio play blocked by browser"));
            }
        }

        const gameData = [
            {
                icon: "‚öñÔ∏è",
                question: "C√¥ng d√¢n c√≥ th·ªÉ t·ª± do kinh doanh b·∫•t k·ª≥ m·∫∑t h√†ng n√†o m√¨nh mu·ªën hay kh√¥ng?",
                advisor: "H√£y ch√∫ √Ω c·ª•m t·ª´ 'ƒë√∫ng ph√°p lu·∫≠t' v√† c√°c 'ng√†nh ngh·ªÅ c·∫•m'.",
                choices: [
                    { text: "C√≥, v√¨ ƒë√≥ l√† quy·ªÅn t·ª± do tuy·ªát ƒë·ªëi c·ªßa c√¥ng d√¢n.", val: "A" },
                    { text: "ƒê∆∞·ª£c t·ª± do kinh doanh nh∆∞ng ph·∫£i theo quy ƒë·ªãnh ph√°p lu·∫≠t.", val: "B" },
                    { text: "Ch·ªâ ƒë∆∞·ª£c kinh doanh n·∫øu c√≥ s·ª± cho ph√©p c·ªßa Nh√† n∆∞·ªõc.", val: "C" }
                ],
                correct: "B",
                correctText: "Ch√≠nh x√°c! Quy·ªÅn t·ª± do kinh doanh lu√¥n ƒëi k√®m v·ªõi vi·ªác tu√¢n th·ªß ph√°p lu·∫≠t.",
                wrongText: "Ph∆∞∆°ng √°n A sai v√¨ quy·ªÅn t·ª± do kh√¥ng bao gi·ªù l√† tuy·ªát ƒë·ªëi (ph√°p lu·∫≠t c·∫•m bu√¥n ma t√∫y). Ph∆∞∆°ng √°n C sai v√¨ c√¥ng d√¢n ƒë∆∞·ª£c ch·ªß ƒë·ªông kinh doanh nh·ªØng g√¨ lu·∫≠t kh√¥ng c·∫•m m√† kh√¥ng c·∫ßn ch·ªù Nh√† n∆∞·ªõc 'giao vi·ªác'.",
                theory: [
                    "<b>Quy·ªÅn t·ª± do kinh doanh:</b> L√† quy·ªÅn c·ªßa m·ªói c√¥ng d√¢n ƒë∆∞·ª£c t·ª± m√¨nh l·ª±a ch·ªçn h√¨nh th·ª©c t·ªï ch·ª©c kinh t·∫ø, ng√†nh ngh·ªÅ v√† quy m√¥ kinh doanh.",
                    "<b>Gi·ªõi h·∫°n:</b> Ph·∫£i tu√¢n theo quy ƒë·ªãnh c·ªßa ph√°p lu·∫≠t, kh√¥ng kinh doanh ng√†nh ngh·ªÅ b·ªã c·∫•m."
                ]
            },
            {
                icon: "üí∞",
                question: "Nghƒ©a v·ª• quan tr·ªçng nh·∫•t c·ªßa doanh nghi·ªáp ƒë·ªëi v·ªõi ng√¢n s√°ch nh√† n∆∞·ªõc l√† g√¨?",
                advisor: "Kho·∫£n ƒë√≥ng g√≥p n√†y d√πng ƒë·ªÉ x√¢y tr∆∞·ªùng h·ªçc, b·ªánh vi·ªán...",
                choices: [
                    { text: "ƒê√≥ng g√≥p c√°c qu·ªπ t·ª´ thi·ªán x√£ h·ªôi.", val: "A" },
                    { text: "Th·ª±c hi·ªán nghƒ©a v·ª• n·ªôp thu·∫ø ƒë·∫ßy ƒë·ªß.", val: "B" },
                    { text: "H·ªó tr·ª£ v·ªën cho c√°c doanh nghi·ªáp kh√°c.", val: "C" }
                ],
                correct: "B",
                correctText: "ƒê√∫ng! N·ªôp thu·∫ø l√† nghƒ©a v·ª• ph√°p l√Ω b·∫Øt bu·ªôc ƒë·ªÉ duy tr√¨ b·ªô m√°y nh√† n∆∞·ªõc.",
                wrongText: "Ph∆∞∆°ng √°n A l√† ho·∫°t ƒë·ªông t·ª± nguy·ªán, kh√¥ng ph·∫£i nghƒ©a v·ª• ph√°p l√Ω b·∫Øt bu·ªôc. Ph∆∞∆°ng √°n C kh√¥ng ph·∫£i l√† nghƒ©a v·ª• ƒë·ªëi v·ªõi ng√¢n s√°ch.",
                theory: [
                    "<b>Nghƒ©a v·ª• n·ªôp thu·∫ø:</b> L√† tr√°ch nhi·ªám c·ªßa ch·ªß th·ªÉ kinh doanh ph·∫£i n·ªôp m·ªôt kho·∫£n ti·ªÅn v√†o ng√¢n s√°ch nh√† n∆∞·ªõc.",
                    "<b>Vai tr√≤ c·ªßa thu·∫ø:</b> L√† ngu·ªìn thu ch√≠nh c·ªßa ng√¢n s√°ch ƒë·ªÉ chi ti√™u cho c√¥ng √≠ch, y t·∫ø, gi√°o d·ª•c, an ninh."
                ]
            },
            {
                icon: "üè∑Ô∏è",
                question: "Doanh nghi·ªáp ni√™m y·∫øt gi√° m·ªôt ƒë·∫±ng nh∆∞ng b√°n m·ªôt n·∫ªo l√† vi ph·∫°m nghƒ©a v·ª• g√¨?",
                advisor: "Th√¥ng tin cung c·∫•p cho kh√°ch h√†ng ph·∫£i 'th·∫≠t'.",
                choices: [
                    { text: "Vi ph·∫°m nghƒ©a v·ª• cung c·∫•p th√¥ng tin trung th·ª±c.", val: "A" },
                    { text: "Vi ph·∫°m quy·ªÅn t·ª± ch·ªß gi√° c·∫£.", val: "B" },
                    { text: "Vi ph·∫°m nghƒ©a v·ª• b·∫£o v·ªá m√¥i tr∆∞·ªùng.", val: "C" }
                ],
                correct: "A",
                correctText: "Ch√≠nh x√°c! Cung c·∫•p th√¥ng tin sai l·ªách l√† l·ª´a d·ªëi ng∆∞·ªùi ti√™u d√πng.",
                wrongText: "Ph∆∞∆°ng √°n B sai v√¨ quy·ªÅn t·ª± ch·ªß gi√° ph·∫£i ƒëi k√®m v·ªõi vi·ªác c√¥ng khai, minh b·∫°ch gi√° ƒë√≥. Ph∆∞∆°ng √°n C kh√¥ng li√™n quan ƒë·∫øn t√¨nh hu·ªëng.",
                theory: [
                    "<b>Nghƒ©a v·ª• v·ªõi ng∆∞·ªùi ti√™u d√πng:</b> Ph·∫£i ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng h√†ng h√≥a, d·ªãch v·ª• theo ti√™u chu·∫©n ƒë√£ c√¥ng b·ªë.",
                    "<b>Th√¥ng tin:</b> Ph·∫£i cung c·∫•p th√¥ng tin trung th·ª±c v·ªÅ s·∫£n ph·∫©m (gi√° c·∫£, h·∫°n d√πng, th√†nh ph·∫ßn)."
                ]
            },
            {
                icon: "üå≥",
                question: "Doanh nghi·ªáp s·∫£n xu·∫•t x·∫£ kh√≥i b·ª•i m√π m·ªãt l√†m ·∫£nh h∆∞·ªüng c∆∞ d√¢n xung quanh l√† vi ph·∫°m g√¨?",
                advisor: "H√£y nghƒ© ƒë·∫øn c√°c ti√™u chu·∫©n v·ªÅ m√¥i tr∆∞·ªùng s·ªëng.",
                choices: [
                    { text: "Vi ph·∫°m quy·ªÅn s·ª≠ d·ª•ng ƒë·∫•t ƒëai.", val: "A" },
                    { text: "Vi ph·∫°m nghƒ©a v·ª• b·∫£o v·ªá m√¥i tr∆∞·ªùng.", val: "B" },
                    { text: "Vi ph·∫°m quy·ªÅn qu·∫£n l√Ω lao ƒë·ªông.", val: "C" }
                ],
                correct: "B",
                correctText: "ƒê√∫ng! Kinh doanh ph·∫£i ƒë·∫£m b·∫£o kh√¥ng l√†m h·∫°i ƒë·∫øn m√¥i tr∆∞·ªùng xung quanh.",
                wrongText: "Ph∆∞∆°ng √°n A v√† C kh√¥ng tr·ª±c ti·∫øp gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ √¥ nhi·ªÖm kh√¥ng kh√≠ trong t√¨nh hu·ªëng n√†y.",
                theory: [
                    "<b>Nghƒ©a v·ª• b·∫£o v·ªá m√¥i tr∆∞·ªùng:</b> C√°c c∆° s·ªü kinh doanh ph·∫£i c√≥ bi·ªán ph√°p x·ª≠ l√Ω ch·∫•t th·∫£i, kh√≠ th·∫£i ƒë·∫°t ti√™u chu·∫©n quy ƒë·ªãnh.",
                    "<b>H·∫≠u qu·∫£:</b> Vi ph·∫°m c√≥ th·ªÉ b·ªã ph·∫°t ti·ªÅn ho·∫∑c ƒë√¨nh ch·ªâ ho·∫°t ƒë·ªông kinh doanh."
                ]
            },
            {
                icon: "üèóÔ∏è",
                question: "Mu·ªën m·ªü m·ªôt ti·ªám t·∫°p h√≥a nh·ªè t·∫°i nh√†, b·∫°n c√≥ c·∫ßn ƒëƒÉng k√Ω v·ªõi ch√≠nh quy·ªÅn kh√¥ng?",
                advisor: "Ph√°p lu·∫≠t y√™u c·∫ßu m·ªçi ho·∫°t ƒë·ªông kinh doanh ƒë·ªÅu ph·∫£i ƒë∆∞·ª£c qu·∫£n l√Ω.",
                choices: [
                    { text: "Kh√¥ng c·∫ßn, v√¨ kinh doanh nh·ªè kh√¥ng ai ƒë·ªÉ √Ω.", val: "A" },
                    { text: "C√≥, ph·∫£i ƒëƒÉng k√Ω kinh doanh theo ƒë√∫ng th·ªß t·ª•c.", val: "B" },
                    { text: "Ch·ªâ ƒëƒÉng k√Ω n·∫øu doanh thu tr√™n 100 tri·ªáu.", val: "C" }
                ],
                correct: "B",
                correctText: "Ch√≠nh x√°c! ƒêƒÉng k√Ω kinh doanh l√† th·ªß t·ª•c b·∫Øt bu·ªôc ƒë·ªÉ ho·∫°t ƒë·ªông h·ª£p ph√°p.",
                wrongText: "Ph∆∞∆°ng √°n A l√† suy nghƒ© sai l·∫ßm d·∫´n ƒë·∫øn vi ph·∫°m h√†nh ch√≠nh. Ph∆∞∆°ng √°n C sai v√¨ ng∆∞·ª°ng doanh thu ch·ªâ li√™n quan ƒë·∫øn thu·∫ø, c√≤n ƒëƒÉng k√Ω ho·∫°t ƒë·ªông l√† b·∫Øt bu·ªôc t·ª´ ƒë·∫ßu.",
                theory: [
                    "<b>Nghƒ©a v·ª• ƒëƒÉng k√Ω kinh doanh:</b> C√¥ng d√¢n ph·∫£i ƒëƒÉng k√Ω v√† kinh doanh ƒë√∫ng ng√†nh, ngh·ªÅ ƒë√£ ƒëƒÉng k√Ω.",
                    "<b>Gi√° tr·ªã ph√°p l√Ω:</b> Gi√∫p Nh√† n∆∞·ªõc qu·∫£n l√Ω v√† b·∫£o h·ªô quy·ªÅn l·ª£i h·ª£p ph√°p c·ªßa ng∆∞·ªùi kinh doanh."
                ]
            },
            {
                icon: "ü§ù",
                question: "Quy·ªÅn b√¨nh ƒë·∫≥ng trong kinh doanh th·ªÉ hi·ªán r√µ nh·∫•t ·ªü ƒëi·ªÉm n√†o?",
                advisor: "M·ªçi lo·∫°i h√¨nh doanh nghi·ªáp ƒë·ªÅu ƒë·ª©ng chung m·ªôt v·∫°ch xu·∫•t ph√°t ph√°p l√Ω.",
                choices: [
                    { text: "Doanh nghi·ªáp nh√† n∆∞·ªõc ƒë∆∞·ª£c ∆∞u ti√™n h∆°n t∆∞ nh√¢n.", val: "A" },
                    { text: "M·ªçi doanh nghi·ªáp ƒë·ªÅu b√¨nh ƒë·∫≥ng v·ªÅ quy·ªÅn v√† nghƒ©a v·ª•.", val: "B" },
                    { text: "Ng∆∞·ªùi gi√†u c√≥ quy·ªÅn kinh doanh nhi·ªÅu h∆°n ng∆∞·ªùi ngh√®o.", val: "C" }
                ],
                correct: "B",
                correctText: "ƒê√∫ng! Ph√°p lu·∫≠t kh√¥ng ph√¢n bi·ªát ƒë·ªëi x·ª≠ d·ª±a tr√™n h√¨nh th·ª©c s·ªü h·ªØu hay quy m√¥.",
                wrongText: "Ph∆∞∆°ng √°n A sai v√¨ trong n·ªÅn kinh t·∫ø th·ªã tr∆∞·ªùng, c√°c th√†nh ph·∫ßn kinh t·∫ø ƒë·ªÅu b√¨nh ƒë·∫≥ng. Ph∆∞∆°ng √°n C sai v√¨ quy·ªÅn l√† chung cho m·ªçi c√¥ng d√¢n ƒë·ªß ƒëi·ªÅu ki·ªán.",
                theory: [
                    "<b>Quy·ªÅn b√¨nh ƒë·∫≥ng:</b> M·ªçi ch·ªß th·ªÉ kinh doanh ƒë·ªÅu b√¨nh ƒë·∫≥ng trong vi·ªác ti·∫øp c·∫≠n c∆° h·ªôi, ngu·ªìn l·ª±c v√† th·ª±c hi·ªán nghƒ©a v·ª• thu·∫ø.",
                    "<b>C·∫°nh tranh:</b> Ph·∫£i c·∫°nh tranh l√†nh m·∫°nh, kh√¥ng d√πng th·ªß ƒëo·∫°n phi ph√°p ƒë·ªÉ tri·ªát h·∫° ƒë·ªëi th·ªß."
                ]
            },
            {
                icon: "üõÇ",
                question: "Vi·ªác kinh doanh h√†ng gi·∫£, h√†ng nh√°i x√¢m ph·∫°m tr·ª±c ti·∫øp ƒë·∫øn quy·ªÅn g√¨?",
                advisor: "H√†ng gi·∫£ g√¢y thi·ªát h·∫°i cho c·∫£ ng∆∞·ªùi d√πng v√† ng∆∞·ªùi l√†m h√†ng th·∫≠t.",
                choices: [
                    { text: "Quy·ªÅn s·ªü h·ªØu tr√≠ tu·ªá v√† quy·ªÅn l·ª£i ng∆∞·ªùi ti√™u d√πng.", val: "A" },
                    { text: "Quy·ªÅn t·ª± do ƒëi l·∫°i c·ªßa c√¥ng d√¢n.", val: "B" },
                    { text: "Quy·ªÅn ƒë∆∞·ª£c b·∫£o v·ªá danh d·ª± c√° nh√¢n.", val: "C" }
                ],
                correct: "A",
                correctText: "Ch√≠nh x√°c! H√†ng gi·∫£ ph√° ho·∫°i uy t√≠n th∆∞∆°ng hi·ªáu v√† s·ª©c kh·ªèe ng∆∞·ªùi d√πng.",
                wrongText: "Ph∆∞∆°ng √°n B v√† C kh√¥ng li√™n quan ƒë·∫øn lƒ©nh v·ª±c kinh t·∫ø v√† h√†ng h√≥a gi·∫£ m·∫°o.",
                theory: [
                    "<b>ƒê·∫°o ƒë·ª©c kinh doanh:</b> L√† t·∫≠p h·ª£p c√°c nguy√™n t·∫Øc, chu·∫©n m·ª±c ƒë·∫°o ƒë·ª©c ƒëi·ªÅu ch·ªânh h√†nh vi c·ªßa ch·ªß th·ªÉ kinh doanh.",
                    "<b>Y√™u c·∫ßu:</b> Kh√¥ng bu√¥n l·∫≠u, kh√¥ng l√†m h√†ng gi·∫£, kh√¥ng qu·∫£ng c√°o sai s·ª± th·∫≠t."
                ]
            },
            {
                icon: "üìù",
                question: "Lo·∫°i thu·∫ø n√†o sau ƒë√¢y ƒë√°nh tr·ª±c ti·∫øp v√†o thu nh·∫≠p c·ªßa ng∆∞·ªùi kinh doanh?",
                advisor: "T√™n g·ªçi c·ªßa lo·∫°i thu·∫ø n√†y n√≥i l√™n ƒë·ªëi t∆∞·ª£ng m√† n√≥ nh·∫Øm ƒë·∫øn.",
                choices: [
                    { text: "Thu·∫ø Gi√° tr·ªã gia tƒÉng (VAT).", val: "A" },
                    { text: "Thu·∫ø Thu nh·∫≠p c√° nh√¢n/doanh nghi·ªáp.", val: "B" },
                    { text: "Thu·∫ø Ti√™u th·ª• ƒë·∫∑c bi·ªát.", val: "C" }
                ],
                correct: "B",
                correctText: "ƒê√∫ng! Thu·∫ø tr·ª±c thu ƒë√°nh th·∫≥ng v√†o t√∫i ti·ªÅn c·ªßa ng∆∞·ªùi ki·∫øm ra thu nh·∫≠p.",
                wrongText: "Ph∆∞∆°ng √°n A v√† C l√† thu·∫ø gi√°n thu, ng∆∞·ªùi ti√™u d√πng m·ªõi l√† ng∆∞·ªùi th·ª±c s·ª± tr·∫£ kho·∫£n thu·∫ø n√†y th√¥ng qua gi√° b√°n.",
                theory: [
                    "<b>Thu·∫ø tr·ª±c thu:</b> ƒê√°nh tr·ª±c ti·∫øp v√†o thu nh·∫≠p ho·∫∑c t√†i s·∫£n c·ªßa ng∆∞·ªùi n·ªôp thu·∫ø.",
                    "<b>Thu·∫ø gi√°n thu:</b> Thu·∫ø c·ªông v√†o gi√° b√°n, ng∆∞·ªùi ti√™u d√πng ch·ªãu thu·∫ø c√≤n ng∆∞·ªùi b√°n ch·ªâ n·ªôp h·ªô."
                ]
            },
            {
                icon: "üõ°Ô∏è",
                question: "Nghƒ©a v·ª• b·∫£o ƒë·∫£m an to√†n lao ƒë·ªông cho nh√¢n vi√™n thu·ªôc v·ªÅ ai?",
                advisor: "Ng∆∞·ªùi thu√™ lao ƒë·ªông ph·∫£i ch·ªãu tr√°ch nhi·ªám v·ªÅ m√¥i tr∆∞·ªùng l√†m vi·ªác.",
                choices: [
                    { text: "Ch·ªß doanh nghi·ªáp.", val: "A" },
                    { text: "Ng∆∞·ªùi lao ƒë·ªông t·ª± lo.", val: "B" },
                    { text: "Ch√≠nh quy·ªÅn ƒë·ªãa ph∆∞∆°ng.", val: "C" }
                ],
                correct: "A",
                correctText: "Ch√≠nh x√°c! ƒê√¢y l√† nghƒ©a v·ª• c∆° b·∫£n c·ªßa ng∆∞·ªùi s·ª≠ d·ª•ng lao ƒë·ªông trong Lu·∫≠t Lao ƒë·ªông.",
                wrongText: "Ph∆∞∆°ng √°n B sai v√¨ ch·ªß doanh nghi·ªáp ph·∫£i c√≥ tr√°ch nhi·ªám cung c·∫•p trang thi·∫øt b·ªã b·∫£o h·ªô. Ph∆∞∆°ng √°n C ch·ªâ ƒë√≥ng vai tr√≤ gi√°m s√°t, ki·ªÉm tra.",
                theory: [
                    "<b>Nghƒ©a v·ª• v·ªõi ng∆∞·ªùi lao ƒë·ªông:</b> Doanh nghi·ªáp ph·∫£i k√Ω h·ª£p ƒë·ªìng lao ƒë·ªông, ƒë√≥ng b·∫£o hi·ªÉm v√† ƒë·∫£m b·∫£o an to√†n v·ªá sinh lao ƒë·ªông.",
                    "<b>Quy·ªÅn l·ª£i:</b> Ng∆∞·ªùi lao ƒë·ªông c√≥ quy·ªÅn ƒë∆∞·ª£c h∆∞·ªüng l∆∞∆°ng t∆∞∆°ng x·ª©ng v√† l√†m vi·ªác trong m√¥i tr∆∞·ªùng an to√†n."
                ]
            },
            {
                icon: "üìâ",
                question: "H√†nh vi tr·ªën thu·∫ø c·ªßa m·ªôt doanh nghi·ªáp g√¢y thi·ªát h·∫°i l·ªõn nh·∫•t cho ai?",
                advisor: "Ng√¢n s√°ch h·ª•t ƒëi ƒë·ªìng nghƒ©a v·ªõi vi·ªác c√°c ph√∫c l·ª£i x√£ h·ªôi b·ªã gi·∫£m s√∫t.",
                choices: [
                    { text: "Cho ch√≠nh ch·ªß doanh nghi·ªáp ƒë√≥.", val: "A" },
                    { text: "Cho Nh√† n∆∞·ªõc v√† to√†n x√£ h·ªôi.", val: "B" },
                    { text: "Cho c√°c doanh nghi·ªáp ƒë·ªëi th·ªß.", val: "C" }
                ],
                correct: "B",
                correctText: "ƒê√∫ng! Tr·ªën thu·∫ø l√†m m·∫•t ƒëi ngu·ªìn l·ª±c ƒë·ªÉ ph√°t tri·ªÉn ƒë·∫•t n∆∞·ªõc.",
                wrongText: "Ph∆∞∆°ng √°n A sai v√¨ tr∆∞·ªõc m·∫Øt h·ªç c√≥ v·∫ª l·ª£i nh∆∞ng l√¢u d√†i s·∫Ω b·ªã ph·∫°t n·∫∑ng. Ph∆∞∆°ng √°n C ch·ªâ b·ªã ·∫£nh h∆∞·ªüng gi√°n ti·∫øp do c·∫°nh tranh kh√¥ng c√¥ng b·∫±ng.",
                theory: [
                    "<b>√ù th·ª©c ph√°p lu·∫≠t:</b> Tu√¢n th·ªß nghƒ©a v·ª• thu·∫ø th·ªÉ hi·ªán tr√°ch nhi·ªám c√¥ng d√¢n v√† ƒë·∫°o ƒë·ª©c c·ªßa ng∆∞·ªùi kinh doanh.",
                    "<b>K·∫øt lu·∫≠n:</b> Kinh doanh c√≥ ƒë·∫°o ƒë·ª©c v√† ƒë√∫ng lu·∫≠t l√† con ƒë∆∞·ªùng ph√°t tri·ªÉn b·ªÅn v·ªØng nh·∫•t."
                ]
            }
        ];

        let currentStep = 0;
        let score = 0;

        function startGame() {
            playSound('click');
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            renderStep();
        }

        function toggleAdvisor() {
            playSound('click');
            const bubble = document.getElementById('advisor-bubble');
            bubble.innerText = gameData[currentStep].advisor;
            bubble.classList.toggle('hidden');
        }

        function renderStep() {
            const data = gameData[currentStep];
            if (!data) {
                showFinal();
                return;
            }

            document.getElementById('analysis-container').classList.add('hidden');
            document.getElementById('advisor-bubble').classList.add('hidden');
            document.getElementById('step-label').innerText = `C√¢u h·ªèi 0${currentStep + 1}/10`;
            document.getElementById('question-text').innerText = data.question;
            document.getElementById('q-icon').innerText = data.icon;
            document.getElementById('progress').style.width = ((currentStep + 1) / 10 * 100) + '%';
            
            const container = document.getElementById('choices-container');
            container.innerHTML = '';

            data.choices.forEach(c => {
                const btn = document.createElement('button');
                btn.className = "choice-btn w-full text-left p-4 rounded-2xl font-bold text-slate-700 flex items-center shadow-sm";
                btn.innerHTML = `<span class="w-8 h-8 rounded-lg bg-indigo-50 text-indigo-600 flex items-center justify-center mr-4 font-black">${c.val}</span> ${c.text}`;
                btn.onclick = () => handleChoice(c.val, btn);
                container.appendChild(btn);
            });
        }

        function handleChoice(val, btn) {
            const data = gameData[currentStep];
            const isCorrect = val === data.correct;
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(b => b.disabled = true);

            if (isCorrect) {
                playSound('correct'); // Ph√°t √¢m thanh ƒë√∫ng
                score += 10;
                btn.classList.add('bg-emerald-50', 'border-emerald-500', 'text-emerald-700');
                document.getElementById('result-badge').innerText = "Ch√≠nh x√°c";
                document.getElementById('result-badge').className = "px-2 py-1 rounded text-xs text-white bg-emerald-500";
            } else {
                playSound('wrong'); // Ph√°t √¢m thanh sai
                btn.classList.add('wrong-shake', 'text-rose-700');
                document.getElementById('result-badge').innerText = "Ch∆∞a ƒë√∫ng";
                document.getElementById('result-badge').className = "px-2 py-1 rounded text-xs text-white bg-rose-500";
                buttons.forEach(b => {
                    if (b.innerText.includes(data.correct)) b.classList.add('border-emerald-500', 'bg-emerald-50');
                });
            }

            document.getElementById('score-display').innerText = score;
            showAnalysis(data);
        }

        function showAnalysis(data) {
            document.getElementById('correct-analysis').innerText = data.correctText;
            document.getElementById('wrong-analysis').innerHTML = `<b>T·∫°i sao c√°c c√¢u kh√°c sai?</b><br>${data.wrongText}`;
            
            const theoryContainer = document.getElementById('theory-text');
            theoryContainer.innerHTML = '';
            data.theory.forEach(t => {
                const p = document.createElement('p');
                p.innerHTML = `‚Ä¢ ${t}`;
                theoryContainer.appendChild(p);
            });

            document.getElementById('analysis-container').classList.remove('hidden');
        }

        function nextStep() {
            playSound('click');
            currentStep++;
            renderStep();
        }

        function showFinal() {
            playSound('finish'); // Ph√°t √¢m thanh ho√†n th√†nh
            const container = document.getElementById('game-container');
            container.innerHTML = `
                <div class="text-center py-10">
                    <div class="text-6xl mb-6">üéì</div>
                    <h2 class="text-3xl font-black mb-2">HO√ÄN TH√ÄNH KH√ìA H·ªåC!</h2>
                    <p class="text-slate-500 mb-8 font-medium">B·∫°n ƒë√£ n·∫Øm v·ªØng quy·ªÅn v√† nghƒ©a v·ª• kinh doanh.</p>
                    <div class="bg-indigo-50 rounded-3xl p-8 mb-8 inline-block">
                        <div class="text-xs font-black text-indigo-300 uppercase mb-1">T·ªïng ƒëi·ªÉm uy t√≠n</div>
                        <div class="text-6xl font-black text-indigo-600">${score}/100</div>
                    </div>
                    <br>
                    <button onclick="location.reload()" class="bg-slate-900 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-widest text-sm">H·ªçc l·∫°i t·ª´ ƒë·∫ßu</button>
                </div>
            `;
        }
    </script>
</body>
</html>
